EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L LM358 U1
U 1 1 5711412E
P 4700 5500
F 0 "U1" H 4650 5700 50  0000 L CNN
F 1 "LM358" H 4650 5250 50  0000 L CNN
F 2 "" H 4700 5500 50  0000 C CNN
F 3 "" H 4700 5500 50  0000 C CNN
	1    4700 5500
	1    0    0    -1  
$EndComp
$Comp
L LM358 U1
U 2 1 571141CE
P 6250 4500
F 0 "U1" H 6200 4700 50  0000 L CNN
F 1 "LM358" H 6200 4250 50  0000 L CNN
F 2 "" H 6250 4500 50  0000 C CNN
F 3 "" H 6250 4500 50  0000 C CNN
	2    6250 4500
	1    0    0    -1  
$EndComp
$Comp
L Q_NMOS_DGS Q1
U 1 1 57114293
P 7350 4500
F 0 "Q1" H 7650 4550 50  0000 R CNN
F 1 "Q_NMOS_DGS" H 8000 4450 50  0000 R CNN
F 2 "" H 7550 4600 50  0000 C CNN
F 3 "" H 7350 4500 50  0000 C CNN
	1    7350 4500
	1    0    0    -1  
$EndComp
$Comp
L R R5
U 1 1 5711479C
P 7450 5000
F 0 "R5" V 7530 5000 50  0000 C CNN
F 1 "0.1" V 7450 5000 50  0000 C CNN
F 2 "" V 7380 5000 50  0000 C CNN
F 3 "" H 7450 5000 50  0000 C CNN
	1    7450 5000
	1    0    0    -1  
$EndComp
$Comp
L R R4
U 1 1 571147FF
P 6850 4500
F 0 "R4" V 6930 4500 50  0000 C CNN
F 1 "120" V 6850 4500 50  0000 C CNN
F 2 "" V 6780 4500 50  0000 C CNN
F 3 "" H 6850 4500 50  0000 C CNN
	1    6850 4500
	0    1    1    0   
$EndComp
$Comp
L R R3
U 1 1 571148F8
P 4650 6000
F 0 "R3" V 4730 6000 50  0000 C CNN
F 1 "100k" V 4650 6000 50  0000 C CNN
F 2 "" V 4580 6000 50  0000 C CNN
F 3 "" H 4650 6000 50  0000 C CNN
	1    4650 6000
	0    1    1    0   
$EndComp
$Comp
L R R2
U 1 1 57114971
P 4200 5850
F 0 "R2" V 4280 5850 50  0000 C CNN
F 1 "10k" V 4200 5850 50  0000 C CNN
F 2 "" V 4130 5850 50  0000 C CNN
F 3 "" H 4200 5850 50  0000 C CNN
	1    4200 5850
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 57114A48
P 3900 5850
F 0 "R1" V 3980 5850 50  0000 C CNN
F 1 "12k" V 3900 5850 50  0000 C CNN
F 2 "" V 3830 5850 50  0000 C CNN
F 3 "" H 3900 5850 50  0000 C CNN
	1    3900 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	4800 6000 5150 6000
Wire Wire Line
	5150 6000 5150 5500
Wire Wire Line
	4200 5600 4400 5600
Wire Wire Line
	4200 5600 4200 5700
Wire Wire Line
	4500 6000 4350 6000
Wire Wire Line
	4350 6000 4350 5600
Connection ~ 4350 5600
Wire Wire Line
	6150 4800 6150 5000
$Comp
L VCC #PWR3
U 1 1 57114BAF
P 6150 4100
F 0 "#PWR3" H 6150 3950 50  0001 C CNN
F 1 "VCC" H 6150 4250 50  0000 C CNN
F 2 "" H 6150 4100 50  0000 C CNN
F 3 "" H 6150 4100 50  0000 C CNN
	1    6150 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 4100 6150 4200
Wire Wire Line
	7000 4500 7150 4500
Wire Wire Line
	7450 4700 7450 4850
Wire Wire Line
	7450 5150 7450 5350
Connection ~ 7450 4750
Wire Wire Line
	4200 6000 4200 6250
Wire Wire Line
	3900 5700 3900 5400
Wire Wire Line
	3800 5400 4400 5400
Wire Wire Line
	3900 6000 3900 6100
Wire Wire Line
	3900 6100 4200 6100
Connection ~ 4200 6100
Text GLabel 7350 4750 0    60   BiDi ~ 0
I_sense
Wire Wire Line
	7350 4750 7450 4750
Text GLabel 3800 5400 0    60   BiDi ~ 0
I_sense
Connection ~ 3900 5400
Connection ~ 5150 5500
Wire Wire Line
	7450 4050 7450 4300
Wire Wire Line
	6550 4500 6700 4500
Wire Wire Line
	5000 5500 5300 5500
$Comp
L R R6
U 1 1 57115B1C
P 5450 5500
F 0 "R6" V 5530 5500 50  0000 C CNN
F 1 "10k" V 5450 5500 50  0000 C CNN
F 2 "" V 5380 5500 50  0000 C CNN
F 3 "" H 5450 5500 50  0000 C CNN
	1    5450 5500
	0    1    1    0   
$EndComp
Wire Wire Line
	5650 4600 5650 5500
Wire Wire Line
	5650 4600 5950 4600
$Comp
L GNDPWR #PWR7
U 1 1 57115ECA
P 7450 5350
F 0 "#PWR7" H 7450 5150 50  0001 C CNN
F 1 "GNDPWR" H 7450 5220 50  0000 C CNN
F 2 "" H 7450 5300 50  0000 C CNN
F 3 "" H 7450 5300 50  0000 C CNN
	1    7450 5350
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X04 P1
U 1 1 57115F44
P 3900 3450
F 0 "P1" H 3900 3700 50  0000 C CNN
F 1 "CONN_01X04" V 4000 3450 50  0000 C CNN
F 2 "" H 3900 3450 50  0000 C CNN
F 3 "" H 3900 3450 50  0000 C CNN
	1    3900 3450
	1    0    0    -1  
$EndComp
Text GLabel 3550 3300 0    60   BiDi ~ 0
VCC
Text GLabel 3550 3400 0    60   BiDi ~ 0
PWM
Text GLabel 3550 3500 0    60   BiDi ~ 0
GND
Text GLabel 3550 3600 0    60   BiDi ~ 0
I_set
$Comp
L CONN_01X04 P2
U 1 1 571160BF
P 8550 3400
F 0 "P2" H 8550 3650 50  0000 C CNN
F 1 "CONN_01X04" V 8650 3400 50  0000 C CNN
F 2 "" H 8550 3400 50  0000 C CNN
F 3 "" H 8550 3400 50  0000 C CNN
	1    8550 3400
	1    0    0    -1  
$EndComp
Text GLabel 8200 3250 0    60   BiDi ~ 0
GNDPWR
Text GLabel 8150 3350 0    60   BiDi ~ 0
V+
Text GLabel 8150 3450 0    60   BiDi ~ 0
I_out+
Text GLabel 8100 3550 0    60   BiDi ~ 0
I_out-
Text GLabel 7300 4050 0    60   BiDi ~ 0
I_out-
Text GLabel 7300 3500 0    60   BiDi ~ 0
I_out+
Wire Wire Line
	7300 4050 7450 4050
Text GLabel 7250 3350 0    60   BiDi ~ 0
V+
Wire Wire Line
	7250 3350 7500 3350
Wire Wire Line
	7500 3350 7500 3500
Wire Wire Line
	7500 3500 7300 3500
Wire Wire Line
	8100 3550 8350 3550
Wire Wire Line
	8150 3450 8350 3450
Wire Wire Line
	8150 3350 8350 3350
Wire Wire Line
	8200 3250 8350 3250
Wire Wire Line
	3550 3300 3700 3300
Wire Wire Line
	3550 3400 3700 3400
Wire Wire Line
	3550 3500 3700 3500
Wire Wire Line
	3550 3600 3700 3600
$Comp
L VCC #PWR5
U 1 1 57116614
P 6450 3300
F 0 "#PWR5" H 6450 3150 50  0001 C CNN
F 1 "VCC" H 6450 3450 50  0000 C CNN
F 2 "" H 6450 3300 50  0000 C CNN
F 3 "" H 6450 3300 50  0000 C CNN
	1    6450 3300
	1    0    0    -1  
$EndComp
$Comp
L C C1
U 1 1 5711663E
P 6450 3550
F 0 "C1" H 6475 3650 50  0000 L CNN
F 1 "1uF" H 6475 3450 50  0000 L CNN
F 2 "" H 6488 3400 50  0000 C CNN
F 3 "" H 6450 3550 50  0000 C CNN
	1    6450 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	6450 3300 6450 3400
Wire Wire Line
	6450 3700 6450 3900
$Comp
L GND #PWR2
U 1 1 5711682B
P 5150 4900
F 0 "#PWR2" H 5150 4650 50  0001 C CNN
F 1 "GND" H 5150 4750 50  0000 C CNN
F 2 "" H 5150 4900 50  0000 C CNN
F 3 "" H 5150 4900 50  0000 C CNN
	1    5150 4900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR1
U 1 1 571168BC
P 4200 6250
F 0 "#PWR1" H 4200 6000 50  0001 C CNN
F 1 "GND" H 4200 6100 50  0000 C CNN
F 2 "" H 4200 6250 50  0000 C CNN
F 3 "" H 4200 6250 50  0000 C CNN
	1    4200 6250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR4
U 1 1 57116905
P 6150 5000
F 0 "#PWR4" H 6150 4750 50  0001 C CNN
F 1 "GND" H 6150 4850 50  0000 C CNN
F 2 "" H 6150 5000 50  0000 C CNN
F 3 "" H 6150 5000 50  0000 C CNN
	1    6150 5000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR6
U 1 1 5711694E
P 6450 3900
F 0 "#PWR6" H 6450 3650 50  0001 C CNN
F 1 "GND" H 6450 3750 50  0000 C CNN
F 2 "" H 6450 3900 50  0000 C CNN
F 3 "" H 6450 3900 50  0000 C CNN
	1    6450 3900
	1    0    0    -1  
$EndComp
$Comp
L BC546 Q2
U 1 1 57116A5F
P 5050 4550
F 0 "Q2" H 5250 4625 50  0000 L CNN
F 1 "BC546" H 5250 4550 50  0000 L CNN
F 2 "TO-92" H 5250 4475 50  0000 L CIN
F 3 "" H 5050 4550 50  0000 L CNN
	1    5050 4550
	1    0    0    -1  
$EndComp
$Comp
L R R9
U 1 1 57116A96
P 5150 4150
F 0 "R9" V 5230 4150 50  0000 C CNN
F 1 "100" V 5150 4150 50  0000 C CNN
F 2 "" V 5080 4150 50  0000 C CNN
F 3 "" H 5150 4150 50  0000 C CNN
	1    5150 4150
	1    0    0    -1  
$EndComp
$Comp
L R R7
U 1 1 57116BC8
P 4050 4550
F 0 "R7" V 4130 4550 50  0000 C CNN
F 1 "1k" V 4050 4550 50  0000 C CNN
F 2 "" V 3980 4550 50  0000 C CNN
F 3 "" H 4050 4550 50  0000 C CNN
	1    4050 4550
	0    1    1    0   
$EndComp
Wire Wire Line
	5150 4900 5150 4750
Wire Wire Line
	5150 4350 5150 4300
Wire Wire Line
	4200 4550 4850 4550
Wire Wire Line
	5650 4400 5950 4400
Wire Wire Line
	5650 3800 5650 4400
Wire Wire Line
	5650 3900 4450 3900
Wire Wire Line
	5150 3900 5150 4000
$Comp
L C C2
U 1 1 5711798C
P 4550 4150
F 0 "C2" H 4575 4250 50  0000 L CNN
F 1 "1uF" H 4575 4050 50  0000 L CNN
F 2 "" H 4588 4000 50  0000 C CNN
F 3 "" H 4550 4150 50  0000 C CNN
	1    4550 4150
	1    0    0    -1  
$EndComp
$Comp
L R R8
U 1 1 57117AB3
P 4300 3900
F 0 "R8" V 4380 3900 50  0000 C CNN
F 1 "100k" V 4300 3900 50  0000 C CNN
F 2 "" V 4230 3900 50  0000 C CNN
F 3 "" H 4300 3900 50  0000 C CNN
	1    4300 3900
	0    1    1    0   
$EndComp
Wire Wire Line
	4550 3900 4550 3900
Wire Wire Line
	4550 3900 4550 4000
Connection ~ 4550 3900
Connection ~ 5150 3900
Text GLabel 3900 3900 0    60   BiDi ~ 0
I_set
Wire Wire Line
	3900 3900 4150 3900
Wire Wire Line
	4550 4300 4550 4850
Wire Wire Line
	4550 4850 5150 4850
Connection ~ 5150 4850
Text GLabel 3800 4550 0    60   BiDi ~ 0
PWM
Wire Wire Line
	3800 4550 3900 4550
Wire Wire Line
	5600 5500 5800 5500
Text Label 5650 3800 0    60   ~ 0
I_target
Text Label 5800 5500 0    60   ~ 0
I_feedback
Connection ~ 5650 5500
Connection ~ 5650 3900
$EndSCHEMATC
